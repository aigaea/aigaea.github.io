import{_ as Y,a as M,b as T,E as j}from"./white_discord.d9ceb6de.js";import{_ as O}from"./Btn.vue.0ea6a55c.js";import{d as B,r as P,x as X,k as H,bF as N,a,c,b as e,f as E,w as b,u as n,y,t as w,F as $,m as G,E as d}from"./entry.76060a84.js";import{u as W}from"./user.8843a2e6.js";import{s as q,i}from"./utils.07ca15e2.js";import{t as I}from"./throttle.0320512a.js";import{j as z,c as J}from"./taskConnect.8bcfd3a1.js";import{g as K,b as Q}from"./missions.f64c9b76.js";import{b as Z}from"./index.2c535046.js";import{_ as ss}from"./bi.56b9a7ca.js";import"./debounce.39b92040.js";import"./el-input.3eb54646.js";import"./use-form-item.667041b5.js";import"./validator.e11eb892.js";import"./focus-trap.cb1a47a2.js";import"./request.6e7988a3.js";import"./client-only.014ff03b.js";import"./dict.d48f8782.js";import"./referral.ec7278f0.js";import"./el-loading.aab2a186.js";import"./dashboard.b310f7b5.js";import"./_initCloneObject.7fc583c4.js";const es=""+globalThis.__publicAssetsURL("images/missions/eth.png"),ts={class:"w-full px-10 py-6 bg-[#0F0F0F] rounded-lg shadow-3d flex items-center justify-between text-white"},os={class:"flex items-center space-x-5"},rs={class:"w-32 h-32 bg-black rounded-full overflow-hidden"},as=e("div",{class:"image-slot"},[e("img",{src:Y,class:"w-full h-full object-cover"})],-1),cs={class:"space-y-3"},ns=e("div",{class:"w-fit px-3 py-1 rounded-3xl bg-[#29292C] flex items-center space-x-2"},[e("div",{class:"w-5 h-5 bg-white rounded-full"},[e("img",{src:es,alt:"",class:"w-full h-full object-contain"})]),e("span",{class:"text-base"},"ETH GoPlus SecNet ")],-1),is={key:0,class:"space-x-1"},ls=e("span",{class:"iconfont icon-copy text-sm text-[#6E6E6E]"},null,-1),ds={key:1,class:"border border-[#ffe09929] space-x-1 rounded px-2 text-[#FFE099] hover:border-[#FFE099]"},_s=e("span",{class:"iconfont icon-lianjie text-lg"},null,-1),ps=e("span",{class:"text-base duration-300"},"Connect Wallet",-1),fs=[_s,ps],ms={class:"flex items-center space-x-2"},us={key:0,src:M,alt:"",class:"w-[18px] h-[18px] mr-1"},hs={key:1,src:T,alt:"",class:"w-6 h-6 mr-1"},gs={class:"flex flex-col items-end space-y-2"},xs={class:"flex items-center space-x-1"},vs=e("div",{class:"w-10 h-10"},[e("img",{src:ss,alt:"",class:"w-full h-full object-contain"})],-1),Es={class:"px-2 py-1 bg-[#866c50] rounded-lg flex items-center space-x-1 cursor-pointer"},bs=e("span",{class:"iconfont icon-copy"},null,-1),ys=e("span",{class:"text-sm font-medium text-center"},"Copy Referral Link",-1),ws=[bs,ys],Is=e("div",{class:"flex items-center text-[#6E6E6E] text-sm cursor-not-allowed"},[e("span",{class:""},"View records"),e("span",{class:"iconfont icon-gengduo"})],-1),qs=B({__name:"Head",props:{data:{default:[]},missionData:{default:[]}},emits:["toUpdate"],setup(F,{emit:D}){const p=F,r=W(),_=P(!1);X();const C=H(()=>s=>s.filter(t=>t.code==="VERIFY_X"||t.code==="VERIFY_DISCORD")),k=s=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;return s.code==="VERIFY_X"&&!i(t)||s.code==="VERIFY_DISCORD"&&!i(o)?!0:s.status==="COMPLETED"},f=s=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;return!i(t)&&s.code==="VERIFY_X"?t:!i(o)&&s.code==="VERIFY_DISCORD"?o:s.status==="COMPLETED"?"Claimed":s.status==="AVAILABLE"?"Claim":"Add"},R=s=>{const{social_x_name:t,social_dc_name:o}=r.getUserInfo;!i(t)&&s.code==="VERIFY_X"||!i(o)&&s.code==="VERIFY_DISCORD"||s.status!=="COMPLETED"&&(s.status==="AVAILABLE"?I(()=>U(s)):I(()=>z(s.code)))},U=async s=>{try{_.value=!0;const t=await J({mission_id:`${s.id}`});_.value=!1,t.code===200?D("toUpdate"):d.error(t.msg)}catch(t){console.error(t),d.error("An error occurred while completing the mission.")}finally{_.value=!1}},V=async()=>{var s;try{if((s=r.getUserInfo)!=null&&s.eth_address)return;const t=await K(),o=await Q({address:t});o.code===200?(d.success(o.data),A()):d.error(o.msg)}catch(t){console.log(t)}},A=async()=>{try{const s=await Z();s.code===200&&r.setUserInfo(s.data)}catch(s){console.log(s)}};return(s,t)=>{var u,h,g,x,v;const o=j,L=O,m=N("copy");return a(),c("div",ts,[e("div",os,[e("div",rs,[E(o,{src:"/images/public/default_avatar.png",fit:"cover"},{error:b(()=>[as]),_:1})]),e("div",cs,[ns,e("div",{class:"flex items-center text-white hover:text-[#FFE099] font-normal text-base cursor-pointer",onClick:V},[(u=n(r).getUserInfo)!=null&&u.eth_address?y((a(),c("div",is,[e("span",null,w(("stringStar"in s?s.stringStar:n(q))({value:(h=n(r).getUserInfo)==null?void 0:h.eth_address,characters:"********",start:4})),1),ls])),[[m,(g=n(r).getUserInfo)==null?void 0:g.eth_address]]):(a(),c("div",ds,fs))]),e("div",ms,[(a(!0),c($,null,G(n(C)(p.missionData),(l,S)=>(a(),c("div",{key:S},[E(L,{title:f(l),disabled:k(l),"hover-title":f(l),onClickHandle:Fs=>R(l)},{default:b(()=>[l.code==="VERIFY_X"?(a(),c("img",us)):(a(),c("img",hs))]),_:2},1032,["title","disabled","hover-title","onClickHandle"])]))),128))])])]),e("div",gs,[e("div",xs,[vs,e("span",null,w(((x=p.data)==null?void 0:x.total_total)||0),1)]),y((a(),c("div",Es,ws)),[[m,(v=n(r).getUserInfo)==null?void 0:v.referral_link]]),Is])])}}});export{qs as default};
